function fetchAJAX(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&200===c.status&&b&&b(c.responseText)},c.open("GET",a),c.send()}function shuffle(a){for(var b=a.length;b>0;){var c=Math.floor(Math.random()*b);b--;var d=a[b];a[b]=a[c],a[c]=d}return a}function isObject(a){return"object"==typeof a}document.querySelector("body").classList.contains("portfolio")&&(console.log("Portfolio page, fetching index"),fetchAJAX("/projects.json",function(a){var b=JSON.parse(a).filter(isObject),c=document.querySelector("#project-template").textContent,d=[];b.forEach(function(a){var b=a.path.replace(/^tmp/,"").replace(/\.json$/,".html"),e="",f="";a.color&&(e="background-color: #"+a.color+";"),a.image&&(f='<img src="/assets/'+a.image+'" sizes="" srcset="" alt="" />');var g=c.replace("{{ title }}",a.title).replace("{{ category }}",a.category).replace("{{ color }}",e).replace("{{ image }}",f).replace("{{ path }}",b);d.push(g)}),d=shuffle(d),document.querySelector("#main-content").innerHTML=d.join("\n")}));